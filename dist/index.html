<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Calendar</title>
    <link rel="stylesheet" href="calendar.css">
    <style>
    body {
        background-color: #f5f5f5;
        padding: 3rem;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;
    }

    .container {
        background-color: #fff;
        padding: 3rem;
    }

    .controls {
        text-align: center;
        margin-bottom: 3rem;
    }

    button {
        margin: 0;
        padding: .5rem 1rem;
        border: none;
        border-radius: 0;
        background-color: #3b444b;
        box-shadow: none;
        color: #fff;
        text-align: center;
        text-decoration: none !important;
        line-height: normal;
        cursor: pointer;
        transition: background-color .4s;
        font-size: inherit;
    }
    </style>
</head>
<body>
    <div class="calendar-mode">
        Choisissez une plage horaire libre
        <button>Annuler</button>
    </div>
    <div class="container">
        <div class="controls">
            <button id="prev"><</button>
            <button id="today">today</button>
            <button id="next">></button>
        </div>

        <div id="calendar">

        </div>
    </div>
    <script src="calendar.js"></script>
    <script>
    function buildCalendar(currentDay) {
        return new Calendar("#calendar", {
            currentDay: currentDay,
            numberOfDays: 2,
            columnsPerDay: 3,
            dayStartHour: '08:00',
            dayEndHour: '18:00',
            slotDuration: 20,
            showBulkActions: true,
            cssClass: 'calendar',
            onEventClick: function(eventId) {
                console.log('event clicked');
            },
        });
    }



    let currentDay = new Date();
    let calendar = buildCalendar(currentDay);
    calendar.addEventMode(100, (timestamp, column) => {
        alert('Drop on column ' + column + ' at ' + timestamp);
    });


    function addDays(date, days) {
        var returnDate = new Date(
            date.getFullYear(),
            date.getMonth(),
            date.getDate() + days,
            date.getHours(),
            date.getMinutes(),
            date.getSeconds(),
            0
        );

        return returnDate;
    }

    document.querySelector("#prev").addEventListener('click', function() {
        currentDay = addDays(currentDay, -1);
        calendar = buildCalendar(currentDay);
    });
    document.querySelector("#today").addEventListener('click', function() {
        currentDay = new Date();
        calendar = buildCalendar(new Date());
    });
    document.querySelector("#next").addEventListener('click', function() {
        currentDay = addDays(currentDay, 1);
        calendar = buildCalendar(currentDay);
    });


    </script>
</body>
</html>
